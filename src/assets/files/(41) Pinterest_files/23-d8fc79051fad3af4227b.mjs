(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[23],{"0BOE":function(e,t,n){n.d(t,"a",(function(){return r}));const i={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},s=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=i[e.charAt(n)]||e.charAt(n);return t},r=(e,t,n="name")=>{const i=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),i=e.split(" ");let r=0;for(let o=0;o<i.length;o+=1)(s(i[o]).includes(n[r])||i[o].includes(n[r]))&&(r+=1);return r===n.length})(e[n].toLowerCase(),i))}},"8cMa":function(e,t,n){var i=n("nKUr"),s=n("Ye/N"),r=n("n6mq");t.a=function({type:e}){const t={group:{accessibilityLabel:s.a._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:s.a._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:s.a._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:s.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:s.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return Object(i.jsx)(r.e,{marginStart:1,children:Object(i.jsx)(r.e,{marginStart:2,children:"sections"===e||"sectionsInline"===e?Object(i.jsx)(r.v,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):Object(i.jsx)(r.v,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})})})}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return o}));const i={row:0,section:0},s={row:-1,section:-1},r=()=>{};class o{constructor(e){this.index=Object.assign({},i),this.sections=e,this.updateCallback=r,this.selectItem=r}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===s.row&&t===s.section?this.index=Object.assign({},i):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===s.row&&t===s.section)this.index=Object.assign({},i);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},s),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},IBrh:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("nKUr"),s=n("q1tI"),r=n("mEMi"),o=(n("9QW3"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends s.Component{constructor(e){super(e),c(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),c(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),c(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),c(this,"handleMouseEnter",e=>()=>{const{disabled:t,indexManager:n}=this.props;t||n.updateIndex(e)}),c(this,"handleMouseLeave",()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),c(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:s}=this.state,{row:r,section:c}=s||{},{customProps:a={},items:d,renderItem:l}=e,{isDisabled:h=(e=>!1)}=a,b=t===c,u=l||n;return u&&d.map((e,n)=>{const s=h(e),c={section:t,row:n},d=b&&n===r;return Object(i.jsx)(o.e,{"data-test-id":"board-selection",ref:!s&&d?this.setSelectedItemRef:null,children:s?u({item:e,hovered:d,sectionProps:a}):Object(i.jsx)(o.V,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(c),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:u({item:e,hovered:d,sectionProps:a})})},n)})}),c(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>Object(i.jsxs)(o.e,{children:[e&&e(t,n),this.renderItems(t,n)]},n))});const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),i=n.top,s=n.bottom,r=t.getBoundingClientRect(),o=r.top;s>=r.bottom?e.scrollIntoView(!1):i<=o&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return Object(i.jsx)(r.a,{fetchMore:n,children:({setRef:n,onScroll:s})=>Object(i.jsx)(o.e,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:s,overflow:"auto",ref:e=>{this.containerRef=e,n(e)},children:this.renderSections()})})}}},NdQN:function(e,t,n){var i=n("nKUr"),s=n("q1tI"),r=n("JW66"),o=n("Ye/N"),c=(n("9QW3"),n("n6mq"));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends s.Component{constructor(...e){super(...e),a(this,"setInputRef",e=>{e&&(this._input=e)}),a(this,"handleKeyDown",e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case r.a.KeyCode.ENTER:case r.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case r.a.KeyCode.UP:e.preventDefault(),n.prev();break;case r.a.KeyCode.DOWN:e.preventDefault(),n.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return Object(i.jsx)("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"},children:Object(i.jsx)(c.L,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:o.a._("Search","search bar placeholder text","search bar placeholder text"),ref:this.setInputRef,size:"lg",value:t})})}}t.a=d},gONw:function(e,t,n){var i=n("nKUr"),s=n("q1tI"),r=n("n6mq");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends s.Component{constructor(...e){super(...e),o(this,"state",{isHovering:!1}),o(this,"onHover",()=>{this.setState({isHovering:!0})}),o(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:s}=this.props;return s?Object(i.jsxs)(r.e,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover,children:[Object(i.jsx)(r.e,{children:Object(i.jsx)(r.C,{height:40,width:40,rounding:2,children:this.state.isHovering&&n?Object(i.jsx)(r.x,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):Object(i.jsx)(r.e,{color:"lightGray",height:40,width:40})})}),Object(i.jsx)(r.e,{padding:2,children:Object(i.jsx)(r.u,{size:"sm",children:e})})]}):Object(i.jsxs)(r.e,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[Object(i.jsx)(r.e,{children:Object(i.jsx)(r.v,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})}),Object(i.jsx)(r.e,{marginStart:3,children:Object(i.jsx)(r.W,{color:t?"darkGray":"gray",weight:"bold",children:e})})]})}}var a=n("Ye/N"),d=n("w70y"),l=n("U4JR"),h=n("seP0");t.a=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:n,image:o,minHeight:b,onBoardSelected:u})=>{const[p,g]=Object(s.useState)(-1),j=Object(h.c)(),{data:x=[],error:f,isLoaded:m}=Object(d.a)({name:"BoardTitleSuggestionsResource",options:{pin_id:n}}),O=(y=x,Object(s.useMemo)(()=>y&&y.length?y.map(e=>e.title):[],[y]));var y;Object(s.useEffect)(()=>{m&&t&&j&&(f?j.error():j.stop())},[m]);const v=()=>{g(-1)},w=(t,n)=>{const s=p===n;return Object(i.jsx)("li",{children:Object(i.jsx)(r.V,{onMouseEnter:()=>(e=>{g(e)})(n),onMouseLeave:v,onTap:()=>(e=>{u(O[e],!1),Object(l.b)(101,{component:13025,element:23})})(n),children:Object(i.jsx)(c,{selected:s,name:t,inFlyoutExp:e,image:o})})},n)};return m?O&&O.length?e?Object(i.jsx)("div",{children:Object(i.jsx)("ul",{children:O.map(w)})}):t?Object(i.jsxs)(r.e,{children:[Object(i.jsx)(r.e,{marginTop:5,marginStart:6,marginBottom:3,children:Object(i.jsx)(r.W,{children:a.a._("Suggested board names","text above suggested board names list","text above suggested board names list")})}),Object(i.jsx)("ul",{children:O.map(w)})]}):Object(i.jsxs)(r.e,{children:[Object(i.jsx)(r.e,{marginTop:2,paddingX:5,children:Object(i.jsx)(r.W,{children:a.a._("Suggested board names")})}),Object(i.jsx)("ul",{children:O.map(w)})]}):null:Object(i.jsx)(r.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:b||"",children:Object(i.jsx)(r.P,{accessibilityLabel:a.a._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0})})}},jdx6:function(e,t,n){n.d(t,"b",(function(){return a}));var i=n("nKUr"),s=n("8cMa"),r=n("JW66"),o=n("Ye/N"),c=n("n6mq");function a(e,t){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,s,r)=>{if(n.length>0&&e&&e.length){const o=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(Object(i.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(o,o+e.length)},r),s)}return[s]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:d,isSelectMode:l,isWithinSectionPicker:h,saveState:b,searchQuery:u,selected:p}=e,g=d?null:n,j=d?n:null,x=j&&j.title||g&&g.name||"";let f="",m=!1,O="",y=0;g&&({image_cover_url:f,is_collaborative:m,privacy:O,section_count:y=0}=g);const v=a(u,x),w=O===r.a.BoardPrivacy.SECRET,S=!t&&(p||!!b),I=!h&&y>0,M=y>0?"boardWithSection":"boardWithoutSection",k=l?o.a._("Select","Board select button label","Board select button label"):o.a._("Save","Pin save button label","Pin save button label");return Object(i.jsxs)(c.e,{alignItems:"center",color:S?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":M,children:[g?Object(i.jsx)(c.e,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:f?Object(i.jsx)(c.x,{src:f,alt:x,fit:"cover",naturalWidth:1,naturalHeight:1}):Object(i.jsx)("span",{})}):Object(i.jsx)(c.e,{height:36,paddingX:2}),Object(i.jsxs)(c.e,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow",children:[Object(i.jsx)(c.W,{color:t?"gray":"darkGray",size:"md",truncate:!0,weight:"bold",children:v}),(I||!S)&&Object(i.jsxs)(c.e,{alignItems:"center",display:"flex",children:[w&&Object(i.jsx)(s.a,{type:"secret"}),m&&Object(i.jsx)(s.a,{type:"group"}),I&&Object(i.jsx)(s.a,{type:"sections"})]}),!I&&S&&!b&&Object(i.jsxs)(c.e,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:[!l&&Object(i.jsx)(c.e,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}},children:Object(i.jsx)(c.v,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})}),Object(i.jsx)(c.W,{color:"white",overflow:"normal",size:"md",weight:"bold",children:k})]}),!I&&S&&"loading"===b&&Object(i.jsx)(c.e,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:Object(i.jsx)(c.P,{accessibilityLabel:o.a._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0})})]})]})}},mEMi:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),s=n("DzJC"),r=n.n(s);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),o(this,"setContainerRef",e=>{this.containerRef=e}),o(this,"fetchMoreIfNecessary",r()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},i)=>e+t+(i?i(t):2*t)>n)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},qyR9:function(e,t,n){n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return f}));var i=n("nKUr"),s=n("q1tI"),r=n("jdx6"),o=n("gONw"),c=n("Ye/N"),a=n("gdcG"),d=n("n6mq");var l=Object(a.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:s,hasHoverState:r,hoverHandlers:o,name:a,onClick:l}=e,h=a||t||c.a._("Create board");return Object(i.jsx)(d.V,{onMouseEnter:o.onMouseOver,onMouseLeave:o.onMouseLeave,onTap:l,children:Object(i.jsxs)(d.e,{alignItems:"center",color:r&&n?"lightGray":"white",display:"flex",flex:s?"shrink":"none",height:64,width:"100%",children:[Object(i.jsx)(d.e,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton",children:Object(i.jsx)(d.v,{accessibilityLabel:c.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})}),a?Object(i.jsx)(d.e,{margin:1,children:Object(i.jsxs)(d.W,{inline:!0,overflow:"normal",children:[" ",c.a._("Create: ")," "]})}):null,Object(i.jsxs)(d.W,{align:"center",inline:!0,truncate:!0,weight:"bold",children:[" ",h," "]})]})})})),h=n("9QW3"),b=n("NdQN"),u=n("IBrh"),p=n("seP0");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=2;class x extends s.Component{constructor(...e){super(...e),g(this,"state",{searchQuery:""}),g(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),g(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),g(this,"renderSectionHeader",(e,t)=>e.title?Object(i.jsxs)(d.e,{children:[t>0&&Object(i.jsx)(d.o,{}),Object(i.jsx)(d.e,{paddingX:3,paddingY:1,children:Object(i.jsx)(d.W,{size:"md",children:e.title})})]}):null),g(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:s,isSelectMode:o,disabledRowId:c}=this.props,{searchQuery:a}=this.state,{inSectionSelection:d=!1}=n,l=s&&s.board===e.id?s&&s.state:null,h="board_section"===e.type;return Object(i.jsx)(r.a,{isSelectMode:o,disabled:e.id===c&&d,item:e,isSection:h,isWithinSectionPicker:d,saveState:l,searchQuery:a,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:s,isLoaded:r,onCreate:a,pinId:p}=this.props;if(r){const{searchQuery:r}=this.state,c=s(r);return this.indexManager=new h.a(c.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),Object(i.jsxs)(d.e,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}},children:[!n&&Object(i.jsxs)(d.e,{children:[Object(i.jsx)(d.e,{paddingX:3,marginBottom:4,marginTop:1,children:Object(i.jsx)(b.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:r})}),Object(i.jsx)(d.o,{})]}),Object(i.jsx)(u.a,{disabled:!!e,grow:!n&&!r,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:c}),Object(i.jsx)(d.o,{}),a&&Object(i.jsx)(l,{buttonLabel:t,hasHoverState:!0,name:r,onClick:()=>a(r)}),n&&a&&p&&Object(i.jsx)(o.a,{onBoardSelected:a,pinId:p})]})}return Object(i.jsx)(d.e,{paddingY:5,children:Object(i.jsx)(d.P,{accessibilityLabel:c.a._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0})})}}function f(e){const t=Object(p.c)();return Object(i.jsx)(x,{...e,boardPickerStopwatch:t})}},seP0:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return d}));var i=n("FZ8N"),s=n("F4HH");const{Provider:r,useHook:o}=Object(s.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:i.b?1:.1}),c=(e,t)=>{let n="unknown";null!=t&&t.includes("pin/")?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},a=r,d=o}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/23-d8fc79051fad3af4227b.mjs.map