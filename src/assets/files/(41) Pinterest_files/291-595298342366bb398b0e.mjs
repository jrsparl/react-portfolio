(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[291],{"3vRR":function(e,n,o){var i=o("nKUr"),t=o("n6mq");n.a=({children:e})=>Object(i.jsx)(t.e,{width:"100%",role:"list",children:e})},"6wCo":function(e,n,o){var i=o("nKUr"),t=o("JW66"),a=o("ENn1"),r=o("ynlw"),s=o("Hrat"),c=o("q1tI"),d=o("/MKj"),l=o("Ye/N"),p=o("TgLd"),m=o("GBVV"),b=o("4cpq"),u=o("M1Uz"),h=o("eOdZ");var w=o("U4JR"),j=o("nGHF"),f=o("n6mq");var g=Object(d.connect)(null,e=>({deletePinSponsorship:n=>e(function(e){return async n=>{await h.a.create("SponsoredPinResource",{pinId:e}).callDelete(),n(function(e){return{type:"DELETE_PIN_SPONSORSHIP",payload:{pinId:e}}}(e))}}(n))}))((function({deletePinSponsorship:e,onDeletePinSponsorship:n,onDismiss:o,pinId:t}){const{showOneToast:a}=Object(j.b)(),[r,s]=Object(c.useState)(!1),d=e=>{s(!1),Object(w.b)(101,{view:3,element:12114,component:230,pin_id:t}),a(({onHide:n})=>Object(i.jsx)(u.a,{onHide:n,text:e?l.a._("Something went wrong!","closeup.pinActionDropdown.toastAfterDeletingHasErrors","Pinterest ran into errors while deleting paid sponsorship"):l.a._("Removed!","closeup.pinActionDropdown.toastAfterDeleting","User deleted their paid partnership")}))};return Object(i.jsx)(p.b,{heading:l.a._("Remove paid partnership?","closeup.pinActionDropdown.deletePinSponsorshipModalHeading","Heading for modal that confirms user wants to delete their partnership"),accessibilityModalLabel:l.a._("Remove paid partnership?","closeup.pinActionDropdown.deletePinSponsorshipModalHeadingLabel","Heading for modal that confirms user wants to delete their partnership"),size:"sm",onDismiss:o,footer:Object(i.jsxs)(f.e,{display:"flex",justifyContent:"center",marginStart:-1,marginEnd:-1,children:[Object(i.jsx)(f.e,{paddingX:1,children:Object(i.jsx)(f.f,{onClick:o,text:l.a._("Cancel","closeup.pinActionDropdown.deletePinSponsorshipModalCancel","Button label for closing sponsorship removal modal")})}),Object(i.jsx)(f.e,{paddingX:1,children:Object(i.jsx)(b.a,{id:"confirm-delete-pin-sponsorship",children:Object(i.jsx)(m.b,{color:"red",onClick:()=>{(async()=>{if(!r){s(!0);try{await e(t),n(),d()}catch(o){n(),d(o)}}})()},text:l.a._("Remove","closeup.pinActionDropdown.deletePinSponsorshipModalConfirmButton","Button label for removing sponsorship"),submitting:r})})})]}),children:Object(i.jsx)(f.e,{padding:4,children:Object(i.jsx)(f.W,{align:"center",children:l.a._("This will remove the paid partnership disclosure on this Pin—if you change your mind you’ll have to start again! This won’t delete the Pin or affect who sees it.","closeup.pinActionDropdown.deletePinSponsorshipDescription","Text description for modal that confirms user wants to delete their sponsorship")})})})})),x=o("E/VT"),O=o("7w6Q"),_=o("tkfL");const v=()=>O.a.increment("windows.download.blob.error"),y=(e,n,o)=>{const i=new window.Windows.Storage.Pickers.FileSavePicker;i.suggestedStartLocation=window.Windows.Storage.Pickers.PickerLocationId.picturesLibrary;const{extension:t,extensionName:a,name:r}=(e=>{const n=e.split("/"),o=n[n.length-1],i=o.split(".");if(i.length>1){const e=i.pop();return{extension:"."+e,extensionName:e.toUpperCase(),name:i.join()}}return{extension:".",extensionName:l.a._("Unknown","Label for file picker drop down when the file type is not known","Label for file picker drop down when the file type is not known"),name:o}})(n);i.suggestedFileName=o||r,i.fileTypeChoices.insert(a,[t]),i.pickSaveFileAsync().then(n=>{n&&(window.Windows.Storage.CachedFileManager.deferUpdates(n),n.openAsync(window.Windows.Storage.FileAccessMode.readWrite).then(n=>{const o=e.msDetachStream();window.Windows.Storage.Streams.RandomAccessStream.copyAsync(o,n).then(()=>{n.flushAsync().done(()=>{o.close(),n.close(),O.a.increment("windows.download.blob.success")},v)},v)},v))})};var P=({filename:e,imgSrc:n,category:o})=>{if(!n)return null;return Object(i.jsx)(_.b,{onClick:()=>{((e,n)=>{try{const o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onreadystatechange=()=>{if(4===o.readyState)if(200!==o.status)O.a.increment("windows.download.blob.nodownload",.1,{status:o.status});else{const i=o.response;y(i,e,n)}},o.send(null)}catch(o){O.a.increment("windows.download.blob.xhrexception",.1,{error:o})}})(n,e)},text:l.a._("Download image","Button to download Pin image","Button to download Pin image")})},S=o("5S2N"),D=o("ESls"),C=o("kmwA");function k(e){const{onDismiss:n,myPin:o}=e,[t,a]=Object(c.useState)(1),r=[{label:l.a._("Small","pinActionDropdown.GetEmbedCodeModal.small","Label on segmented controller for pin embed code, for small width"),width:236},{label:l.a._("Medium","pinActionDropdown.GetEmbedCodeModal.medium","Label on segmented controller for pin embed code, for medium width"),width:345},{label:l.a._("Large","pinActionDropdown.GetEmbedCodeModal.large","Label on segmented controller for pin embed code, for large width"),width:450},{label:l.a._("Extra Large","pinActionDropdown.GetEmbedCodeModal.extra_large","Label on segmented controller for pin embed code, for extra-large width"),width:600}];return Object(i.jsx)(f.z,{children:Object(i.jsxs)(p.b,{accessibilityModalLabel:l.a._("Get Embed Code","pinActionDropdown.GetEmbedCodeModal.modalLabel","Accessibility label on modal for pin embed code"),heading:l.a._("Get Embed Code","pinActionDropdown.GetEmbedCodeModal.header","Heading on modal for pin embed code"),onDismiss:n,footer:Object(i.jsx)(f.e,{display:"flex",direction:"row",justifyContent:"end",children:Object(i.jsx)(f.f,{size:"sm",text:l.a._("Got it!","pinActionDropdown.GetEmbedCodeModal.dismissButton","Button to dismiss embed code modal"),onClick:n})}),children:[Object(i.jsx)(f.e,{paddingX:6,paddingY:4,children:Object(i.jsx)(f.M,{items:r.map(e=>e.label),selectedItemIndex:t,onChange:({activeIndex:e})=>{a(e)}})}),Object(i.jsx)(f.e,{paddingX:8,paddingY:6,children:Object(i.jsx)("code",{children:`<iframe src="${C.a.settings.ASSETS_SITE_URL}/ext/embed.html?id=${o.id}" height="${Math.ceil(o.height*r[t].width/o.width+100)}" width="${r[t].width}" frameborder="0" scrolling="no" ></iframe>`})})]})})}var A=o("Xuu2"),T=o("gTC0"),L=o("gSZa"),E=o("hFNL"),R=o("LT60"),I=o("IJsR"),M=o("Sp3T"),H=o("v/Q4"),B=o("eqXv"),N=o("CONZ"),U=o("eUcp"),F=o("vvax"),G=o("0bYG"),q=o("aOj9"),W=o("1Fta"),z=o("DJoW");var K=Object(d.connect)((function({pins:e,viewer:n},{pinId:o}){return{isFullAuth:n.isAuth&&!n.isLimitedLogin,reduxPin:e[o]}}),e=>({deletePinMention:(n,o)=>e(Object(N.b)(n,o)),showPinFeedbackUndo:(n,o,i)=>e(Object(z.f)(n,o,i)),showPinFeedback:(n,o)=>e(Object(z.a)(n,o)),hidePinFeedback:n=>e(Object(z.b)(n))}))((function({bestPinImgSrc:e,carouselSlotCurrentIndex:n,deletePinMention:o,embedImg:t,enableHidePin:a,goBack:r,hideDownload:s,hidePinFeedback:d,showEmbed:p,isFullAuth:m,onDropdownClick:b,onEditSubmit:h,onReportPin:O,onToggle:v,pinCategory:y,pinDescription:C,pinId:N,pinImgSrc:z,pinTitle:K,reportPin:V,reduxPin:X,showEditPin:Y,showPinFeedback:J,showPinFeedbackUndo:$,showRemoveMention:Q,showRemoveSponsorship:Z,usePortal:ee,viewParameter:ne}){const{showOneToast:oe}=Object(j.b)(),[ie,te]=Object(c.useState)(!1),[ae,re]=Object(c.useState)(!1),[se,ce]=Object(c.useState)(!1),[de,le]=Object(c.useState)(!1),[pe,me]=Object(c.useState)(!1),[be,ue]=Object(c.useState)(!1),he=Object(H.a)(),we=Object(q.e)(),je=Object(c.useRef)(),fe=Object(M.a)(),ge=()=>{te(!1),re(!1)},xe=()=>{ge(),ue(!be)},Oe=()=>{ge(),me(!pe)},_e=()=>{ge(),fe(()=>{Object(w.b)(101,{element:3,viewParameterType:ne,viewType:3}),ce(!se)})},ve=()=>{de||Object(w.b)(4439,{view:3,viewParameter:156}),te(!1),le(!de)},ye=()=>{"function"==typeof O&&O(N),V()},Pe=Object(W.a)({i18n:l.a,interpolateNamedTemplate:F.b}),Se=l.a._("More options","Accessible label for more options dropdown","Accessible label for more options dropdown"),De={},{recommendation_reason:Ce}=X,ke=Object(A.a)({feedbackOptions:undefined,pin:X,viewParameter:156}),Ae=Ce&&Ce.reason&&G.ReasonToChoose[Ce.reason],Te=Ce&&Object(W.c)(Ce),Le=Ce&&Object(W.d)(Ce),Ee=()=>{re(!0);const e={title:"",subTitle:l.a._("Got it! We won't show you this Pin in the future.","pinActionDropdown.hidePin.confirmation","message displayed after hiding a pin")},{action:n,actionOptions:o}=Pe.getHidePinAction({feedbackData:De,feedbackType:ke,pinId:N,recommendationReasonId:Ae,throughId:Te,throughProperties:Le});o&&n?$(N,e,((e,n)=>()=>{const o={...e,undo:!0};let i=n;"unfollowPinner"===n?i="followPinner":"unfollowBoard"===n?i="followBoard":"unfollowTopic"===n&&(i="followTopic"),Object(B.a)(i,o),d(N),Object(w.b)(101,{component:0,element:11181,view:3,viewParameter:139})})(o,n)):J(N,e)},Re=()=>{r&&r()};return Object(i.jsxs)(f.e,{flex:"grow",alignItems:"center",display:"flex",children:[Object(i.jsx)(f.e,{ref:je,children:Object(i.jsx)(T.a,{accessibilityLabel:Se,icon:"ellipsis",onClick:()=>{var e;v&&v(),"function"==typeof b&&b(),te(!ie),e=981,Object(w.b)(101,{element:e,component:4,view:3,viewParameter:139})}})}),ie&&(()=>{const n=Object(i.jsx)(f.e,{zIndex:U.a,children:Object(i.jsx)(f.s,{anchor:je.current,idealDirection:"down",onDismiss:ge,size:"xs",children:ae?Object(i.jsx)(L.a,{feedbackData:De,feedbackType:ke,pinId:N,onHide:Re,recommendationReason:Ce,viewParameter:156,viewType:3}):Object(i.jsxs)(_.a,{children:[Y&&Object(i.jsx)(_.b,{onClick:_e,text:l.a._("Edit Pin","closeup.pinActionDropDown.editPin","Button allowing user to edit their Pin")}),!s&&"undefined"!=typeof window&&"windows"!==Object(E.b)(window)&&e&&Object(i.jsx)(x.a,{imgSrc:e||"",filename:K||C,category:y,pinId:N,children:e=>Object(i.jsx)(_.b,{onClick:e,text:l.a._("Download image","Button to download Pin image","Button to download Pin image")})}),!s&&"undefined"!=typeof window&&"windows"===Object(E.b)(window)&&(e||z)&&Object(i.jsx)(P,{imgSrc:e||z||"",filename:K||C,category:y}),Z&&Object(i.jsx)(_.b,{onClick:Oe,text:l.a._("Remove partnership","closeup.pinActionDropDown.removePartnership","Label to allow removing an existing partnership")}),a&&Object(i.jsx)(_.b,{onClick:m?Ee:we,text:l.a._("Hide Pin","closeup.pinActionDropDown.hide","Label for hide pin action")}),Object(i.jsx)(_.b,{onClick:m?ye:we,text:l.a._("Report Pin","Label for report pin action","Label for report pin action")}),Q&&Object(i.jsx)(_.b,{onClick:xe,text:l.a._("Remove @mention","closeup.pinActionDropDown.removeMention","Button that allows user to remove their @mention in the pin's")}),p&&Object(i.jsx)(D.a,{name:"closeup_pin_embed_code",children:({anyEnabled:e})=>e&&Object(i.jsx)(_.b,{onClick:ve,text:l.a._("Get Pin embed code","Label for embed pin action","Label for embed pin action")})})]})})});return ee?Object(i.jsx)(R.a,{children:Object(i.jsx)(f.z,{children:n})}):n})(),de&&Object(i.jsx)(k,{myPin:{id:N,height:t.height,width:t.width},onDismiss:ve}),pe&&Object(i.jsx)(g,{onDeletePinSponsorship:Oe,onDismiss:Oe,pinId:N}),be&&Object(i.jsx)(I.a,{confirmText:l.a._("Remove","closeup.pinActionDropDown.removeMention.modal","Label for button to confirm removal of the user @mention tag"),dismissText:l.a._("Cancel","closeup.pinActionDropDown.removeMention.modal","Label for button to cancel removal of the user @mention tag"),heading:l.a._("Remove @mention","closeup.pinActionDropDown.removeMention.modal","Heading for confirming user @mention tag removal"),accessibilityLabel:l.a._("Remove @mention tag from Story Pin","closeup.pinActionDropDown.removeMention.modal","Accessibility label for modal removing @mention tag from Story Pin"),onConfirm:()=>{ue(!1),he.isAuth&&(o(N,he.id),Object(w.b)(8909,{view:3,viewParameter:157})),ge(),oe(({onHide:e})=>Object(i.jsx)(u.a,{onHide:e,text:l.a._("@mention removed!","closeup.pinActionDropDown.mentionRemovalToast","Toast that tells user that they have successfully removed the @mention of them in another user's Pin description")}))},onDismiss:xe,promptText:l.a._("Tags in this Story Pin will no longer link to your profile.","closeup.pinActionDropDown.removeMention.modal","Description for modal removing @mention tag from Story Pin")}),se&&Object(i.jsx)(S.a,{carouselSlotCurrentIndex:n,onHide:()=>{ce(!1)},onSubmit:h,pinId:N})]})})),V=o("OSge"),X=o("QAzJ"),Y=o("YxyV"),J=o("7jH2");n.a=({carouselSlotCurrentIndex:e,goBack:n,onDropdownClick:o,onEditSubmit:c,onReportPin:d,pin:l,showEditPin:p=!1,viewParameter:m})=>{var b,u;const h=Object(H.a)(),{pinTitle:w,pinDescription:j,pinCategory:g}=Object(s.a)(l),x=Object(J.q)({pin:l}),{video:O}=Object(J.y)(x)||{},_=!!O||!!Object(J.j)(x);let v;l.images&&(v=l.embed&&"gif"===l.embed.type?l.embed.src:l.images["736x"]&&l.images["736x"].url);const y=!!l.story_pin_data_id,P=Object(Y.d)(l),{isPromoted:S}=Object(r.a)(l),D=l.board.privacy===t.a.BoardPrivacy.SECRET,C=!S&&!D,{anyEnabled:k}=Object(X.a)("web_story_pin_at_mentions"),A=k&&h.isAuth&&(null===(b=l.story_pin_data)||void 0===b||null===(u=b.pages)||void 0===u?void 0:u.reduce((e,n)=>{var o;return e||(null===(o=n.blocks)||void 0===o?void 0:o.reduce((e,n)=>e||n.type===V.a.MENTION_STICKER&&n.user_id===h.id&&!1===n.is_removed,!1))},!1)),{sponsorship:T}=l,{creator:L,sponsor:E}=T||{},R=h.isAuth&&!!T&&[L.username,E.username].includes(h.username),{anyEnabled:I}=Object(X.a)("mweb_web_sponsored_pins",R),{anyEnabled:M}=Object(X.a)("hfp_web_hide_on_closeup");return Object(i.jsx)(f.e,{"data-test-id":"pin-action-bar",children:Object(i.jsx)(K,{carouselSlotCurrentIndex:e,embedImg:Object(Y.e)(l,"736x"),showEmbed:C,bestPinImgSrc:P,goBack:n,hideDownload:_||y,onDropdownClick:o,onEditSubmit:c,onReportPin:d,pinCategory:g,pinDescription:j,pinId:l.id,pinImgSrc:v,pinTitle:w,reportPin:Object(a.a)({pin:l,viewParameter:m,viewType:3}),enableHidePin:M,showEditPin:p,showRemoveMention:A,showRemoveSponsorship:R&&I,usePortal:!1,viewParameter:m})})}},Hrat:function(e,n,o){var i=o("yaUg"),t=o("Ye/N");n.a=e=>{const n=e.link_domain||{},o=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,a=e.rich_metadata,r=e.domain,s=e.closeup_attribution||e.native_creator||n.official_user||e.pinner||e.origin_pinner,c=!(!(a&&a.recipe&&a.recipe.name&&a.recipe.categorized_ingredients)||a.recipe.from_aggregated_data);let d,l;a&&a.products&&a.products[0]&&(d=!!(a&&a.name&&a.offer_summary));const p=e.buyable_product,m=d||p,b=!(!a||!a.article),u=!(!a||!a.tutorial),h=!(!s||!s.username);let w=t.a._("Saved from ","Closeup pin annotation","Closeup pin annotation"),j=h?t.a._("Saved by"):t.a._("Saved from"),f=t.a._("Visit");a&&a.products&&a.products[0]&&a&&a.products[0].name&&a.products[0].offer_summary&&(w=t.a._("Product sold by ","pin annotation","pin annotation"),l=a.products[0].offer_summary),m?(j=t.a._("Sold by"),f=t.a._("Visit")):u?(w=t.a._("Saved from ","pin annotation","pin annotation"),j=h?t.a._("Saved by"):t.a._("Saved from"),f=t.a._("Visit")):c?(w=t.a._("Recipe from ","pin annotation","pin annotation"),j=h?t.a._("Recipe by"):t.a._("Recipe from"),f=t.a._("Make it")):b&&(w=t.a._("Article from ","pin annotation","pin annotation"),j=h?t.a._("Article by"):t.a._("Article from"),f=t.a._("Read it"));const g=e.rich_summary;if(!l&&g){let e;g&&g.products&&g.products[0]&&(e=!!(g&&g.products[0].name&&g.products[0].offer_summary),e&&(w=t.a._("Product sold by ","pin annotation","pin annotation")))}let x,O;h?(x="/"+s.username+"/",O=s.full_name):(x="/source/"+r,O=a&&a.site_name||r);return{actionButtonText:f,image:s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,link:x,pinLink:o,pin:e,pinCreditPrefix:w,prefixText:j,subtitle:O,title:Object(i.a)(t.a._("More from {{ subtitle }}"),{subtitle:O}),pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},IJsR:function(e,n,o){o.d(n,"a",(function(){return r}));var i=o("nKUr"),t=o("TgLd"),a=o("n6mq");function r({confirmText:e,dismissText:n,heading:o,accessibilityLabel:r,onConfirm:s,onDismiss:c,promptText:d}){return Object(i.jsx)(t.b,{accessibilityModalLabel:r,onDismiss:c,size:414,heading:o,children:Object(i.jsxs)(a.e,{padding:4,children:[Object(i.jsx)(a.W,{align:"center",children:d}),Object(i.jsxs)(a.e,{display:"flex",direction:"row",marginStart:-2,marginEnd:-2,marginTop:12,children:[Object(i.jsx)(a.e,{display:"flex",direction:"row",column:6,paddingX:2,children:Object(i.jsx)(a.f,{color:"gray",text:n,onClick:c})}),Object(i.jsx)(a.e,{column:6,paddingX:2,children:Object(i.jsx)(a.f,{color:"red",text:e,onClick:s})})]})]})})}},OPV1:function(e,n,o){var i=o("nKUr"),t=o("Ye/N"),a=o("gTC0"),r=o("4cpq"),s=o("dtqy");n.a=Object(s.a)(({handlePinEditButtonClick:e})=>Object(i.jsx)(r.a,{id:"closeup-pin-edit-button",children:Object(i.jsx)(a.a,{accessibilityLabel:t.a._("Edit","edit button on pin","edit button on pin"),onClick:n=>e&&e(n),icon:"edit"})}))},Pus6:function(e,n,o){var i=o("nKUr"),t=o("R6wO"),a=o("qD10"),r=o("n6mq");n.a=({bold:e,description:n,descriptionColor:o,external:s,hasDividerAfter:c,icon:d,onClick:l,text:p,url:m})=>{const b=Object(i.jsx)(r.e,{role:"listitem",overflow:"hidden",children:Object(i.jsx)(t.a,{bold:e,description:n,descriptionColor:o,icon:d,text:p})});return Object(i.jsxs)(r.e,{children:[m?Object(i.jsx)(a.a,{to:m,external:s,onClick:l,children:b}):Object(i.jsx)(r.V,{fullWidth:!1,onTap:l,children:b}),c&&Object(i.jsx)(r.o,{})]})}},tkfL:function(e,n,o){var i=o("3vRR");o.d(n,"a",(function(){return i.a}));var t=o("Pus6");o.d(n,"b",(function(){return t.a}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/291-595298342366bb398b0e.mjs.map