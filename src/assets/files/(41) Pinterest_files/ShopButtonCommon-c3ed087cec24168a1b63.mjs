(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["ShopButtonCommon"],{RaHp:function(n,e,t){t.r(e),t.d(e,"ShopButton",(function(){return h}));var i=t("nKUr"),o=t("q1tI"),a=t("zJ39"),s=t("Ye/N"),l=t("ihsa"),c=t("uhAL"),r=t("U4JR"),u=t("n6mq"),p=t("qLDv"),d=t("EC67");function h({closeupImageHovered:n=!1,history:e,hovered:t,onAnimationComplete:d,onClick:h,onHover:f,pin:y,searchQuery:m,shopButtonAnimationType:g,trafficSource:O,type:w,viewParameter:S}){const b=Object(o.useRef)(),[j,_]=Object(o.useState)(),[x,v]=Object(o.useState)(),[k,I]=Object(o.useState)();Object(o.useEffect)(()=>{"stela"===w&&Object(r.b)(120,{element:11838,image_signature:y.image_signature,view:3}),"stl"===w&&Object(r.b)(120,{element:11963,image_signature:y.image_signature,view:3})},[w]),Object(o.useEffect)(()=>{if(b.current&&!j){const n=b.current.getBoundingClientRect().width;n&&_(n)}},[t,b,j]);Object(o.useEffect)(()=>{"in"===g||t?(v("shopButtonSlideIn .3s ease-in-out forwards"),I("stelaSlideIn .3s ease-in-out 200ms forwards")):"out"===g||!1===t?(v("shopButtonSlideOut .3s ease-in-out forwards"),I("stelaSlideOut .3s ease-in-out forwards")):"inOut"===g?(v("shopButtonSlideInThenOut 3s ease-in-out forwards"),I("stelaSlideInThenOut 3s ease-in-out 200ms forwards")):"none"===g&&(v("none"),I("none"))},[t,g]);const{visual_objects:B}=y||{},L=!!B&&Object(c.c)(B)||[];return Object(i.jsxs)(u.V,{onMouseEnter:f,onMouseLeave:f,onTap:L.length<1&&"stela"===w?()=>{"stela"===w&&Object(r.b)(101,{view:3,element:11838,image_signature:y.image_signature||""});let n=`/pin/${y.id}/related-products/?entrySource=shopping`;m&&(n=n.concat("&q="+m)),O&&(n=n.concat("&rs="+O)),e&&e.push(n)}:h,children:[Object(i.jsx)(l.a,{unsafeCSS:Object(a.a)(j||0)}),Object(i.jsxs)(u.e,{"data-test-id":"shop-button",alignItems:"center",display:"flex",height:p.a,minWidth:p.a,onAnimationEnd:()=>{d&&"inOut"===g&&d()},justifyContent:"start",rounding:"pill",width:p.a,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",animation:x}},children:[Object(i.jsx)(u.e,{dangerouslySetInlineStyle:{__style:{paddingLeft:"12px"}},children:Object(i.jsx)(u.v,{accessibilityLabel:s.a._("Shopping","closeup.overlay.shopIcon","Clicking here will open a feed of similiar shoppable Pins"),icon:"tag",color:"darkGray",size:18})}),Object(i.jsx)(u.e,{ref:b,dangerouslySetInlineStyle:{__style:{animation:k,whiteSpace:"nowrap",paddingLeft:"8px",opacity:"none"===g?0:void 0}},children:Object(i.jsx)(u.W,{size:"lg",weight:"bold",children:"stela"===w?s.a._("View similar products","closeup.shopButton.similiarProducts","clicking on this text will open a feed similiar shoppable Pins"):s.a._("Shop this look","closeup.overlay.stl.shopButtonText","clicking on this text will show the stl flyout with exact match products")})})]})]})}e.default=Object(d.k)(h)},zJ39:function(n,e,t){var i=t("qLDv");e.a=n=>`@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 44px;\n    }\n\n    15% {\n      width: ${n+i.a}px;\n    }\n\n    85% {\n      width: ${n+i.a}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 44px;\n    }\n\n    100% {\n      width: ${n+i.a}px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ${n+i.a}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  `}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/ShopButtonCommon-c3ed087cec24168a1b63.mjs.map